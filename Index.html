<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Cumplea√±os Amor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary-red: #570000;
            --light-red: #fff5f5;
            --accent-red: #8b0000;
            --soft-red: #f8d7da;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            background-color: var(--light-red);
            background-image: radial-gradient(#fecaca 0.5px, transparent 0.5px);
            background-size: 20px 20px;
        }

        .animate-bounce-short {
            animation: bounce 0.5s ease-in-out;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .sidebar-transition {
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .contenedor-img {
            width: 100%;
            height: 200px;
            border-radius: 20px;
            overflow: hidden;
            background-color: #fce8e8;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border: 2px dashed #d1a7a7;
        }

        .img-pregunta {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 10;
        }

        .placeholder-texto {
            color: var(--accent-red);
            font-weight: 600;
            font-size: 0.8rem;
            text-align: center;
            padding: 15px;
        }

        .gif-gato {
            width: 320px;
            max-width: 90%;
            height: auto;
            object-fit: contain;
            margin: 0 auto;
        }

        .bg-custom-red { background-color: var(--primary-red); }
        .text-custom-red { color: var(--primary-red); }
        
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 16px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-weight: 600;
        }

        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
    </style>
</head>
<body class="h-screen w-full relative">

    <!-- BOT√ìN FLOTANTE IZQUIERDO -->
    <button id="btn-abrir-izq" class="absolute top-6 left-6 z-30 p-3 bg-white rounded-full shadow-lg text-custom-red hover:scale-110 transition-all border border-red-100">
        <i class="fa-solid fa-bars text-xl"></i>
    </button>

    <!-- √çNDICE IZQUIERDO -->
    <aside id="sidebar-izq" class="fixed left-0 top-0 h-full bg-white border-r-2 border-red-100 p-6 flex flex-col gap-4 shadow-2xl z-40 sidebar-transition w-72 -translate-x-full">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-custom-red font-bold text-xl tracking-tight">Nuestra Historia</h2>
            <button id="btn-cerrar-izq" class="text-red-300 hover:text-custom-red">
                <i class="fa-solid fa-xmark text-2xl"></i>
            </button>
        </div>
        
        <div class="flex flex-col gap-3">
            <!-- BOT√ìN GALER√çA -->
            <a href="album.html" class="flex items-center gap-3 p-4 rounded-2xl bg-red-50 text-custom-red font-bold text-sm cursor-pointer hover:bg-red-100 transition-all border border-transparent hover:border-red-200 group">
                <i class="fa-solid fa-camera text-lg text-red-400 group-hover:scale-110 transition-transform"></i> 
                Galer√≠a de Fotos
            </a>
            
            <!-- BOT√ìN CARTITA ACTUALIZADO -->
            <a href="cartita.html" class="flex items-center gap-3 p-4 rounded-2xl bg-red-50 text-custom-red font-bold text-sm cursor-pointer hover:bg-red-100 transition-all border border-transparent hover:border-red-200 group">
                <i class="fa-solid fa-calendar-check text-lg text-red-400 group-hover:scale-110 transition-transform"></i> 
                Cartita
            </a>
            
            <!-- BOT√ìN COLLAGE ACTUALIZADO -->
            <a href="collage.html" class="flex items-center gap-3 p-4 rounded-2xl bg-red-50 text-custom-red font-bold text-sm cursor-pointer hover:bg-red-100 transition-all border border-transparent hover:border-red-200 group">
                <i class="fa-solid fa-heart text-lg text-red-400 group-hover:scale-110 transition-transform"></i> 
                Collage
            </a>
        </div>

        <div class="mt-auto p-4 bg-red-50 rounded-2xl border border-dashed border-red-200">
            <p class="text-xs text-red-700 text-center italic leading-relaxed">"Te amo demasiado gracias por ser parte de mi vida"</p>
        </div>
    </aside>

    <!-- OVERLAY -->
    <div id="overlay" class="fixed inset-0 bg-black/40 backdrop-blur-[2px] z-30 hidden transition-opacity duration-300"></div>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="h-full flex flex-col items-center justify-center p-4 relative z-10 no-scrollbar overflow-y-auto">
        <div class="mb-6 flex flex-col items-center text-center">
            <h1 class="text-3xl font-bold text-custom-red mb-1 italic drop-shadow-sm uppercase tracking-wider">¬°Feliz Cumplea√±os! ‚ù§Ô∏è</h1>
            <p id="subtitulo" class="text-red-800/70 font-medium text-sm bg-white/50 px-4 py-1 rounded-full">Responde todo para ver tu sorpresa</p>
        </div>

        <div id="game-container" class="w-full max-w-md">
            <!-- El contenido se genera con JavaScript -->
        </div>
    </main>

    <div id="toast">¬°Copiado al portapapeles!</div>

    <script>
        const preguntas = [
            {
                pregunta: "¬øCu√°ndo cumple a√±os el Boneless?",
                opciones: ["12 de Octubre", "12 de Noviembre", "12 de Diciembre", "20 de Diciembre"],
                correcta: "12 de Diciembre",
                imagen: "p1.png"
            },
            {
                pregunta: "¬øQu√© me gusta m√°s de ti?",
                opciones: ["Tus ojos", "Tu sonrishita", "Tu forma de ser", "Tu cabello"],
                correcta: "Tu sonrishita",
                imagen: "p2.png"
            },
            {
                pregunta: "¬øCu√°l es mi canci√≥n favorita?",
                opciones: ["Ghost town by Kanye west", "Runaway - Kanye West", "Stronger", "Bound 2"],
                correcta: "Ghost town by Kanye west",
                imagen: "p3.png"
            },
            {
                pregunta: "¬øCu√°l es mi artista favorito?",
                opciones: ["Drake", "Travis Scott", "Kanye west", "Kendrick Lamar"],
                correcta: "Kanye west",
                imagen: "p4.png"
            },
            {
                pregunta: "¬øCu√°l es mi serie favorita?",
                opciones: ["Breaking Bad", "The boys", "Invincible", "Stranger Things"],
                correcta: "The boys",
                imagen: "p5.png"
            },
            {
                pregunta: "¬øCu√°l es mi pel√≠cula favorita?",
                opciones: ["Spider-Man", "Dedicada a mi ex", "Interstellar", "Batman"],
                correcta: "Dedicada a mi ex",
                imagen: "p6.png"
            },
            {
                pregunta: "¬øCu√°l es mi juego favorito?",
                opciones: ["Roblox", "Minecraft", "Fortnite", "Call of Duty"],
                correcta: "Fortnite",
                imagen: "p7.png"
            },
            {
                pregunta: "¬øCu√°ntos gatos tengo?",
                opciones: ["1", "2", "3", "4"],
                correcta: "3",
                imagen: "p8.png"
            },
            {
                pregunta: "¬øCu√°ndo y a qu√© hora empezamos a hablar?",
                opciones: ["30 de marzo a las 3:13 pm", "30 de marzo a las 4:00 pm", "29 de marzo a las 3:13 pm", "31 de marzo a las 12:00 pm"],
                correcta: "30 de marzo a las 3:13 pm",
                imagen: "p9.png"
            },
            {
                pregunta: "¬øCu√°ndo y a qu√© hora empezamos a andar?",
                opciones: ["07 de mayo - 9:00 pm", "08 de mayo - 9:50 pm aprox", "08 de mayo - 10:30 pm", "09 de mayo - 9:50 pm"],
                correcta: "08 de mayo - 9:50 pm aprox",
                imagen: "p10.png"
            }
        ];

        let pasoActual = 0;
        let puntaje = 0;
        let falloEnPreguntaActual = false;
        const container = document.getElementById('game-container');

        function showToast(message) {
            const toast = document.getElementById("toast");
            toast.innerText = message;
            toast.className = "show";
            setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
        }

        function renderizarPregunta() {
            if (pasoActual >= preguntas.length) {
                renderizarFinal();
                return;
            }

            falloEnPreguntaActual = false;
            const data = preguntas[pasoActual];
            const progreso = (pasoActual / preguntas.length) * 100;

            container.innerHTML = `
                <div id="card" class="bg-white p-5 md:p-7 rounded-[35px] shadow-2xl border-b-8 border-red-200 transition-all duration-300">
                    <div class="mb-5 contenedor-img">
                        <span class="placeholder-texto italic">Foto:<br><b class="text-custom-red font-bold">${data.imagen}</b></span>
                        <img src="${data.imagen}" alt="" class="img-pregunta" 
                             onload="this.previousElementSibling.style.display='none'"
                             onerror="this.style.display='none'">
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-red-400/60">Pregunta ${pasoActual + 1} de ${preguntas.length}</span>
                        <h3 class="text-lg md:text-xl font-bold text-gray-800 mt-1 leading-tight">${data.pregunta}</h3>
                    </div>
                    <div class="grid grid-cols-1 gap-2.5">
                        ${data.opciones.map(opcion => `
                            <button onclick="validarRespuesta('${opcion}')" class="w-full p-3.5 text-left px-6 rounded-2xl border-2 border-red-50 bg-red-50 text-gray-700 hover:border-red-300 hover:bg-white active:scale-95 transition-all font-semibold text-sm shadow-sm">
                                ${opcion}
                            </button>
                        `).join('')}
                    </div>
                    <div class="mt-6 w-full bg-red-100 h-1.5 rounded-full overflow-hidden">
                        <div class="bg-custom-red h-full transition-all duration-700 ease-out" style="width: ${progreso}%"></div>
                    </div>
                </div>
            `;
        }

        function validarRespuesta(opcion) {
            const correcta = preguntas[pasoActual].correcta;
            const card = document.getElementById('card');
            if (opcion === correcta) {
                if (!falloEnPreguntaActual) puntaje++;
                pasoActual++;
                renderizarPregunta();
            } else {
                falloEnPreguntaActual = true;
                card.classList.add('animate-bounce-short');
                setTimeout(() => card.classList.remove('animate-bounce-short'), 500);
            }
        }

        function renderizarFinal() {
            document.getElementById('subtitulo').classList.add('hidden');
            let mensaje = puntaje === 10 ? "üëë ailoviusomush" : (puntaje >= 7 ? "üíñ tamo" : "üò† todio");
            container.innerHTML = `
                <div class="bg-white p-6 md:p-10 rounded-[50px] shadow-2xl text-center border-4 border-yellow-200 relative overflow-hidden animate-bounce-short">
                    <div class="mb-4">
                        <span class="text-6xl font-black text-custom-red">${puntaje}/10</span>
                        <p class="text-2xl font-bold text-red-800/80 mt-2 lowercase">${mensaje}</p>
                    </div>
                    <div class="flex justify-center mb-6">
                        <img src="gato.gif" alt="Gatito" class="gif-gato" 
                             onerror="this.src='https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHJtNXBmZTRoN3R6eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/MDJ9IbxxvDUQM/giphy.gif'">
                    </div>
                    <div class="bg-gradient-to-br from-yellow-300 via-yellow-600 to-yellow-800 p-1 rounded-3xl shadow-lg cursor-pointer" onclick="copiarCodigo()">
                        <div class="bg-white p-5 rounded-[1.2rem] border-2 border-dashed border-yellow-800 hover:bg-yellow-50 transition-colors">
                            <span class="text-xl md:text-2xl font-mono font-black text-gray-800 tracking-widest">ROBUX-LOVE-KANYE-24</span>
                        </div>
                    </div>
                    <button onclick="reiniciarJuego()" class="mt-6 w-full py-3 bg-custom-red text-white rounded-2xl font-bold shadow-md hover:bg-black transition-all">Volver a empezar</button>
                </div>
            `;
        }

        function copiarCodigo() {
            const text = "ROBUX-LOVE-KANYE-24";
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => showToast("¬°C√≥digo copiado!"));
            } else {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast("¬°C√≥digo copiado!");
            }
        }

        function reiniciarJuego() {
            pasoActual = 0; puntaje = 0; falloEnPreguntaActual = false;
            document.getElementById('subtitulo').classList.remove('hidden');
            renderizarPregunta();
        }

        const sidebarIzq = document.getElementById('sidebar-izq');
        const overlay = document.getElementById('overlay');
        function toggleIzq(show) {
            sidebarIzq.style.transform = show ? 'translateX(0)' : 'translateX(-100%)';
            overlay.classList.toggle('hidden', !show);
            overlay.style.opacity = show ? "1" : "0";
        }
        document.getElementById('btn-abrir-izq').onclick = () => toggleIzq(true);
        document.getElementById('btn-cerrar-izq').onclick = () => toggleIzq(false);
        overlay.onclick = () => toggleIzq(false);

        renderizarPregunta();
    </script>
</body>
</html>